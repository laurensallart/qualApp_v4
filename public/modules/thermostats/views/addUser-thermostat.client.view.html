<section data-ng-controller="AddUserController" data-ng-init="findThermostat()">
	<div class="page-header text-center">
        <h1>Users and messages</h1>
    </div>


	<div class="row">
		<div class="col-xs-12 col-sm-offset-3 col-sm-6 col-md-4 col-md-offset-4">
			<div class="text-center">
				<a class="btn btn-default btn-block" href="#!/thermostats/{{thermostat._id}}">
					<span class=" glyphicon glyphicon-circle-arrow-left"></span> back
				</a>
			</div>
			<br>
			<div class="text-center">
				<div type="danger" data-ng-show="error" class="alert alert-danger">
					<span data-ng-bind="error"></span>
				</div>
			</div>
		</div>
	</div>
	<br>

	<div class="row">
		<div class="col-xs-12 col-sm-6 col-md-4">
			<div class="panel panel-success">
				<div class="panel-heading">
					<h3 class="panel-title">Add User to {{thermostat.name}}</h3>
				</div>
				<div class="panel-body">
					<div class="col-xs-offset-1 col-xs-10">
						<form data-ng-submit="submitUser()" class="form-horizontal" autocomplete="off">
							<fieldset>
								<div class="form-group">
									<div class="input-group input-group-lg">
										<span class="input-group-addon" id="basic-addon1">
											<span class="glyphicon glyphicon-user" style="color:green"></span>
										</span>
				  						<input type="text" class="form-control" data-ng-model='newUsername' placeholder="Username" aria-describedby="basic-addon1">
									</div>
								</div>

								<div class="text-center form-group">
									<button type="submit" class="btn btn-success btn-lg btn-block">find and add user</button>
								</div>
								

							</fieldset>
						</form>
					</div>
					
				</div>
			</div>
		</div>
		<div class="col-xs-12 col-sm-6 col-md-4" ng-repeat="user in thermostat.users">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title pull-left">{{user.username}}</h3>
					<button class="btn btn-danger btn-xs pull-right" data-ng-click="removeUser($index)" >
						<span class="glyphicon glyphicon-remove"></span>
					</button>
					<div class="clearfix"></div>
				</div>
				<div class="panel-body">
					<h4>name: </h4> {{user.displayName}}
					<br>
					<h4>email: </h4> {{user.email}}
				</div>
			</div>
			
		</div>		
	</div>
</section>